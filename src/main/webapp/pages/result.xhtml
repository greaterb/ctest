<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"

      xmlns:ace="http://www.icefaces.org/icefaces/components">
<h:head>
    <title>JSF 2.0 Hello World</title>

    <script type="text/javascript">
        setTimeout(function() {ice.ace.instance('chartForm:chart').exportToServer();}, 250);
    </script>
</h:head>
<h:body>
    <h:form id="chartForm">

        Result for <h:outputText value="#{testBean.name}"/>.

        <h:panelGroup>


            <ace:chart id="chart"
                       animated="false"
                       value="#{testBean.chartValues}"
                       stackSeries="false"
                       defaultAxesConfig="#{testBean.barDemoDefaultAxis}"
                       xAxis="#{testBean.barDemoXAxis}"
                       yAxes="#{testBean.YAxes}"
                       legend="false"
                       highlighter="true"
                       highlighterLocation="N"
                       highlighterShowMarker="false"
                       highlighterBringSeriesToFront="true">
                <ace:ajax/>
            </ace:chart>

            <ace:dynamicResource disabled="#{testBean.imageSaved}"
                                 scope="session"
                                 resource="#{testBean.savedImage}"
                                 fileName="chart.png"
                                 attachment="true"
                                 type="button"
                                 label="Download chart"/>

            <ace:pushButton label="Start new test" action="#{testBean.newTest}"/>

        </h:panelGroup>


    </h:form>

    <script type="text/javascript">
        setTimeout(function() {ice.ace.instance('chartForm:chart').exportToServer();}, 250);
    </script>

</h:body>
</html>
